<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<script>
"use strict";
var s = new Set();
[2, 3, 5, 4, 5, 2, 2].map(x => s.add(x));
for(let i of s){
  console.log(i);
}

var set1 = new Set([1, 2, 3, 4, 4]);
[...set1];

var items = new Set([1, 2, 3, 4, 5, 5, 5, 5]);
console.log(items.size);

let set2 = new Set();
set2.add({});
console.log('set2', set2.size);

set2.add({});
console.log('set2', set2.size);

var properties = {
  'width': 1,
  'height': 1
};

if(properties['width']) {
  console.log(properties['width']);
}

var items = new Set([1, 2, 3, 4, 5]);
var array = Array.from(items);
console.log(array);

function dedupe(array) {
  return Array.from(new Set(array));
}

console.log(dedupe([1, 1, 2, 3])); // [1, 2, 3]

let set3 = new Set(['red', 'green', 'blue']);
for (let item of set3.keys()) {
  console.log(item);
}

for (let value of set3.values()) {
  console.log(value);
}

for (let item of set3.entries()) {
  console.log(item);
}

let set4 = new Set(['red', 'green', 'blue']);
for (let item of set4) {
  console.log(item);
}

let set5 = new Set([1, 2, 3]);
set5.forEach((value, key) => console.log(value * 2));

let set6 = new Set([1, 2, 3]);
set6 = new Set([...set6].map(x => x * 2 ));
console.log(set6); // 返回Set结构：{2, 4, 6}

let set7 = new Set([1, 2, 3, 4, 5]);
set7 = new Set([...set7].filter(x => (x % 2) == 0));
console.log(set7); // 返回Set结构：{2, 4}

let a = new Set([1, 2, 3]);
let b = new Set([4, 3, 2]);
let union = new Set([...a, ...b]);
let union2 = new Set([a, b]);
console.log(union);
console.log(union2);

var ws = new WeakSet();
var obj2 = {};
var foo = {};
ws.add(window);
ws.add(obj2);
console.log(ws.has(window));
console.log(ws.has(obj2));
console.log(ws.has(foo));

// Map转为数组
let myMap = new Map().set(true, 7).set({foo: 3}, ['abc']);
console.log(myMap);

// 数组转为Map
let myMap2 = new Map([[true, 7], [{foo: 3}, ['abc']]]);
console.log(myMap2);

// Map转为对象
// 如果所有Map的键都是字符串，它可以转为对象。
function strMapToObj(strMap) {
  let obj3 = Object.create(null);
  for (let item of strMap) {
    // console.log(item);
    console.log(Object.keys(item));
  }
  return obj3;
}
let myMap3 = new Map().set('yes', true).set('no', false);
console.log(strMapToObj(myMap3));


// 对象转为Map


</script>
</head>
<body>

</body>
</html> 